<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Roulette Input Pad</title>
<style>
  :root {
    --cell: min(5vw, 64px);
    --gap: 6px;
    --radius: 10px;
    --bg: #0f1222;
    --panel: #171a2e;
  }

  * { box-sizing: border-box; }
  body {
    margin: 0; padding: 24px;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    background: var(--bg); color: #e9ecf1;
    display: grid; place-items: start center; gap: 18px;
  }

  .board {
    display: grid;
    grid-template-columns: var(--cell) repeat(12, var(--cell));
    grid-template-rows: repeat(3, var(--cell));
    gap: var(--gap);
    background: #0b0d1a;
    padding: var(--gap);
    border-radius: 16px;
    box-shadow: 0 12px 30px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.06);
  }

  button.num {
    border: none;
    color: #fff;
    font-weight: 700;
    font-size: 18px;
    border-radius: 8px;
    display: grid;
    place-items: center;
    cursor: pointer;
    transition: transform .05s ease, filter .15s ease, box-shadow .15s ease;
    user-select: none;
    outline: none;
  }
  button.num:active { transform: translateY(1px) scale(.99); }

  /* Colors */
  .red   { background: #e14b3b; }
  .black { background: #2a2f39; }
  .green { background: #1f9d55; }

  .num.red:hover   { filter: brightness(1.08); }
  .num.black:hover { filter: brightness(1.16); }
  .num.green:hover { filter: brightness(1.08); }

  /* 0 spans all 3 rows */
  .zero { grid-row: 1 / 4; grid-column: 1; font-size: 24px; }

  .panel {
    width: calc(var(--cell) * 13 + var(--gap) * 12 + var(--gap) * 2);
    max-width: 100%;
    background: var(--panel);
    border-radius: 14px;
    padding: 14px;
    box-shadow: 0 10px 24px rgba(0,0,0,.28), inset 0 0 0 1px rgba(255,255,255,.06);
  }

  .row {
    display: flex; gap: 10px; align-items: center; flex-wrap: wrap;
  }

  textarea {
    width: 100%;
    height: 90px;
    resize: vertical;
    border: 1px solid rgba(255,255,255,.12);
    background: #0f1324;
    color: #f3f6fb;
    border-radius: 10px;
    padding: 10px 12px;
    line-height: 1.35;
    font-size: 14px;
    outline: none;
  }

  .btn {
    border: none; cursor: pointer;
    background: #2d6df6; color: white;
    padding: 10px 14px; border-radius: 10px;
    font-weight: 600; transition: filter .15s;
  }
  .btn.secondary { background: #2a2f39; }
  .btn:hover { filter: brightness(1.08); }
  .hint { opacity: .8; font-size: 12px; }
</style>
</head>
<body>

  <!-- Roulette-style grid -->
  <div class="board" id="board"></div>

  <!-- Output & controls -->
  <div class="panel">
    <div class="row" style="justify-content: space-between; margin-bottom:10px">
      <strong>Selections</strong>
      <span class="hint">Tip: click numbers to add • Edit the list directly • Press Enter to add a line break</span>
    </div>
    <textarea id="output" placeholder="Numbers will appear here as 30, 15, 9, 5, 0 ..."></textarea>
    <div class="row" style="margin-top:10px">
      <button class="btn" id="undoBtn" title="Remove last number">Undo</button>
      <button class="btn secondary" id="clearBtn" title="Clear all">Clear</button>
      <button class="btn secondary" id="copyBtn" title="Copy to clipboard">Copy</button>
    </div>
  </div>

<script>
/* ------- Build the board ------- */
const board = document.getElementById('board');
const output = document.getElementById('output');

const redSet = new Set([1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36]);
const blackSet = new Set(
  Array.from({length:36}, (_,i)=>i+1).filter(n => !redSet.has(n))
);

/* Layout order (European table like the image):
   Three rows, 12 columns each. Leftmost "0" spans all rows. */
const rows = [
  [3,6,9,12,15,18,21,24,27,30,33,36],
  [2,5,8,11,14,17,20,23,26,29,32,35],
  [1,4,7,10,13,16,19,22,25,28,31,34],
];

// Add the 0 first
const zeroBtn = makeButton(0, 'green', ['num','green','zero']);
board.appendChild(zeroBtn);

// Fill rows
rows.forEach((row, rIndex) => {
  row.forEach((n, cIndex) => {
    const color = redSet.has(n) ? 'red' : 'black';
    const btn = makeButton(n, color, ['num', color]);
    // grid position: +1 column because column 1 is the zero cell
    btn.style.gridRow = (rIndex + 1);
    btn.style.gridColumn = (cIndex + 2);
    board.appendChild(btn);
  });
});

function makeButton(n, color, classes) {
  const b = document.createElement('button');
  b.textContent = n;
  b.className = classes.join(' ');
  b.dataset.value = String(n);
  b.addEventListener('click', () => addNumber(n));
  b.setAttribute('aria-label', `Add ${n}`);
  return b;
}

/* ------- Output helpers ------- */
function parseList(text) {
  // Accept commas, spaces, and newlines; keep order; ignore empties
  return text
    .split(/[\s,]+/)
    .map(s => s.trim())
    .filter(s => s.length > 0);
}

function formatList(arr) {
  return arr.join(', ');
}

function getList() {
  return parseList(output.value);
}

function setList(arr) {
  output.value = formatList(arr);
}

function addNumber(n) {
  const list = getList();
  list.push(String(n));
  setList(list);
}

/* Buttons */
document.getElementById('undoBtn').addEventListener('click', () => {
  const list = getList();
  list.pop();
  setList(list);
});

document.getElementById('clearBtn').addEventListener('click', () => {
  output.value = '';
  output.focus();
});

document.getElementById('copyBtn').addEventListener('click', async () => {
  try {
    await navigator.clipboard.writeText(output.value);
    flash('Copied!');
  } catch {
    flash('Copy failed');
  }
});

/* Small visual feedback */
function flash(msg) {
  const el = document.createElement('div');
  el.textContent = msg;
  el.style.position = 'fixed';
  el.style.bottom = '18px';
  el.style.right = '18px';
  el.style.padding = '10px 12px';
  el.style.background = '#2d6df6';
  el.style.color = 'white';
  el.style.borderRadius = '10px';
  el.style.fontWeight = '700';
  el.style.boxShadow = '0 8px 18px rgba(0,0,0,.25)';
  document.body.appendChild(el);
  setTimeout(() => el.remove(), 900);
}
</script>
</body>
</html>
